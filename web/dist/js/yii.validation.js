/*! For license information please see yii.validation.js.LICENSE.txt */
!function(){"use strict";yii.validation=function(e){var a={isEmpty:function(a){return null==a||e.isArray(a)&&0===a.length||""===a},addMessage:function(e,a,t){e.push(a.replace(/\{value\}/g,t))},required:function(e,t,s){var i=!1;if(void 0===s.requiredValue){var r="string"==typeof e||e instanceof String;(s.strict&&void 0!==e||!s.strict&&!a.isEmpty(r?n(e):e))&&(i=!0)}else(!s.strict&&e==s.requiredValue||s.strict&&e===s.requiredValue)&&(i=!0);i||a.addMessage(t,s.message,e)},boolean:function(e,t,s){s.skipOnEmpty&&a.isEmpty(e)||!s.strict&&(e==s.trueValue||e==s.falseValue)||s.strict&&(e===s.trueValue||e===s.falseValue)||a.addMessage(t,s.message,e)},string:function(e,t,s){s.skipOnEmpty&&a.isEmpty(e)||("string"==typeof e?void 0===s.is||e.length==s.is?(void 0!==s.min&&e.length<s.min&&a.addMessage(t,s.tooShort,e),void 0!==s.max&&e.length>s.max&&a.addMessage(t,s.tooLong,e)):a.addMessage(t,s.notEqual,e):a.addMessage(t,s.message,e))},file:function(a,n,i){var r=t(a,n,i);e.each(r,(function(e,a){s(a,n,i)}))},image:function(n,i,r,o){var l=t(n,i,r);e.each(l,(function(t,n){if(s(n,i,r),"undefined"!=typeof FileReader){var l=e.Deferred();a.validateImage(n,i,r,l,new FileReader,new Image),o.push(l)}}))},validateImage:function(e,a,t,s,n,i){i.onload=function(){!function(e,a,t,s){s.minWidth&&a.width<s.minWidth&&t.push(s.underWidth.replace(/\{file\}/g,e.name)),s.maxWidth&&a.width>s.maxWidth&&t.push(s.overWidth.replace(/\{file\}/g,e.name)),s.minHeight&&a.height<s.minHeight&&t.push(s.underHeight.replace(/\{file\}/g,e.name)),s.maxHeight&&a.height>s.maxHeight&&t.push(s.overHeight.replace(/\{file\}/g,e.name))}(e,i,a,t),s.resolve()},i.onerror=function(){a.push(t.notImage.replace(/\{file\}/g,e.name)),s.resolve()},n.onload=function(){i.src=this.result},n.onerror=function(){s.resolve()},n.readAsDataURL(e)},number:function(e,t,s){s.skipOnEmpty&&a.isEmpty(e)||("string"!=typeof e||s.pattern.test(e)?(void 0!==s.min&&e<s.min&&a.addMessage(t,s.tooSmall,e),void 0!==s.max&&e>s.max&&a.addMessage(t,s.tooBig,e)):a.addMessage(t,s.message,e))},range:function(t,s,n){if(!n.skipOnEmpty||!a.isEmpty(t))if(n.allowArray||!e.isArray(t)){var i=!0;e.each(e.isArray(t)?t:[t],(function(a,t){return-1!=e.inArray(t,n.range)||(i=!1,!1)})),void 0===n.not&&(n.not=!1),n.not===i&&a.addMessage(s,n.message,t)}else a.addMessage(s,n.message,t)},regularExpression:function(e,t,s){s.skipOnEmpty&&a.isEmpty(e)||(!s.not&&!s.pattern.test(e)||s.not&&s.pattern.test(e))&&a.addMessage(t,s.message,e)},email:function(e,t,s){if(!s.skipOnEmpty||!a.isEmpty(e)){var n=!0,i=/^((?:"?([^"]*)"?\s)?)(?:\s+)?(?:(<?)((.+)@([^>]+))(>?))$/.exec(e);if(null===i)n=!1;else{var r=i[5],o=i[6];s.enableIDN&&(r=punycode.toASCII(r),o=punycode.toASCII(o),e=i[1]+i[3]+r+"@"+o+i[7]),n=!(r.length>64)&&!((r+"@"+o).length>254)&&(s.pattern.test(e)||s.allowName&&s.fullPattern.test(e))}n||a.addMessage(t,s.message,e)}},url:function(e,t,s){if(!s.skipOnEmpty||!a.isEmpty(e)){s.defaultScheme&&!/:\/\//.test(e)&&(e=s.defaultScheme+"://"+e);var n=!0;if(s.enableIDN){var i=/^([^:]+):\/\/([^\/]+)(.*)$/.exec(e);null===i?n=!1:e=i[1]+"://"+punycode.toASCII(i[2])+i[3]}n&&s.pattern.test(e)||a.addMessage(t,s.message,e)}},trim:function(e,t,s,i){var r=e.find(t.input);if(r.is(":checkbox, :radio"))return i;if(i=r.val(),!(s.skipOnEmpty&&a.isEmpty(i)||s.skipOnArray&&Array.isArray(i))){if(Array.isArray(i))for(var o=0;o<i.length;o++)i[o]=n(i[o],s);else i=n(i,s);r.val(i)}return i},captcha:function(t,s,n){if(!n.skipOnEmpty||!a.isEmpty(t)){var i=e("body").data(n.hashKey);i=null==i?n.hash:i[n.caseSensitive?0:1];for(var r=n.caseSensitive?t:t.toLowerCase(),o=r.length-1,l=0;o>=0;--o)l+=r.charCodeAt(o)<<o;l!=i&&a.addMessage(s,n.message,t)}},compare:function(t,s,n,i){if(!n.skipOnEmpty||!a.isEmpty(t)){var r,o=!0;if(void 0===n.compareAttribute)r=n.compareValue;else{var l=e("#"+n.compareAttribute);l.length||(l=i.find('[name="'+n.compareAttributeName+'"]')),r=l.val()}switch("number"===n.type&&(t=t?parseFloat(t):0,r=r?parseFloat(r):0),n.operator){case"==":o=t==r;break;case"===":o=t===r;break;case"!=":o=t!=r;break;case"!==":o=t!==r;break;case">":o=t>r;break;case">=":o=t>=r;break;case"<":o=t<r;break;case"<=":o=t<=r;break;default:o=!1}o||a.addMessage(s,n.message,t)}},ip:function(e,t,s){if(!s.skipOnEmpty||!a.isEmpty(e)){var n=null,i=null,r=new RegExp(s.ipParsePattern).exec(e);r&&(n=r[1]||null,e=r[2],i=r[4]||null),!0!==s.subnet||null!==i?!1!==s.subnet||null===i?!1!==s.negation||null===n?6==(-1===e.indexOf(":")?4:6)?(new RegExp(s.ipv6Pattern).test(e)||a.addMessage(t,s.messages.message,e),s.ipv6||a.addMessage(t,s.messages.ipv6NotAllowed,e)):(new RegExp(s.ipv4Pattern).test(e)||a.addMessage(t,s.messages.message,e),s.ipv4||a.addMessage(t,s.messages.ipv4NotAllowed,e)):a.addMessage(t,s.messages.message,e):a.addMessage(t,s.messages.hasSubnet,e):a.addMessage(t,s.messages.noSubnet,e)}}};function t(a,t,s){if("undefined"==typeof File)return[];var n=e(a.input,a.$form).get(0);if(void 0===n)return[];var i=n.files;return i?0===i.length?(s.skipOnEmpty||t.push(s.uploadRequired),[]):s.maxFiles&&s.maxFiles<i.length?(t.push(s.tooMany),[]):i:(t.push(s.message),[])}function s(e,a,t){if(t.extensions&&t.extensions.length>0){for(var s=!1,n=e.name.toLowerCase(),i=0;i<t.extensions.length;i++){var r=t.extensions[i].toLowerCase();if(""===r&&-1===n.indexOf(".")||n.substr(n.length-t.extensions[i].length-1)==="."+r){s=!0;break}}s||a.push(t.wrongExtension.replace(/\{file\}/g,e.name))}t.mimeTypes&&t.mimeTypes.length>0&&(function(e,a){for(var t=0,s=e.length;t<s;t++)if(new RegExp(e[t]).test(a))return!0;return!1}(t.mimeTypes,e.type)||a.push(t.wrongMimeType.replace(/\{file\}/g,e.name))),t.maxSize&&t.maxSize<e.size&&a.push(t.tooBig.replace(/\{file\}/g,e.name)),t.minSize&&t.minSize>e.size&&a.push(t.tooSmall.replace(/\{file\}/g,e.name))}function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipOnEmpty:!0,chars:null};if(!1!==t.skipOnEmpty&&a.isEmpty(e))return e;if(e=new String(e),t.chars||!String.prototype.trim){var s=t.chars?t.chars.replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"):" \\sÂ ";return e.replace(new RegExp("^["+s+"]+|["+s+"]+$","g"),"")}return e.trim()}return a}(jQuery)}();
//# sourceMappingURL=yii.validation.js.map