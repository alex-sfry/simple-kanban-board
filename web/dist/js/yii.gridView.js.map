{"version":3,"file":"yii.gridView.js","mappings":";0BAWA,SAAWA,GACPA,EAAEC,GAAGC,YAAc,SAAUC,GACzB,OAAIC,EAAQD,GACDC,EAAQD,GAAQE,MAAMC,KAAMC,MAAMC,UAAUC,MAAMC,KAAKC,UAAW,IAChD,iBAAXR,GAAwBA,GAGtCH,EAAEY,MAAM,UAAYT,EAAS,0CACtB,GAHIC,EAAQS,KAAKR,MAAMC,KAAMK,UAK5C,EAEA,IAAIG,EAAW,CACXC,eAAWC,EACXC,oBAAgBD,EAChBE,kBAAkB,GAGlBC,EAAW,CAAC,EAEZC,EAAa,CAWbC,aAAc,eAQdC,YAAa,eA2BbC,EAAoB,CAAC,EAErBnB,EAAU,CACVS,KAAM,SAAUW,GACZ,OAAOlB,KAAKmB,MAAK,WACb,IAAIC,EAAK1B,EAAEM,MACPqB,EAAW3B,EAAE4B,OAAO,CAAC,EAAGd,EAAUU,GAAW,CAAC,GAC9CK,EAAKH,EAAGI,KAAK,WACId,IAAjBG,EAASU,KACTV,EAASU,GAAM,CAAC,GAGpBV,EAASU,GAAM7B,EAAE4B,OAAOT,EAASU,GAAK,CAACF,SAAUA,IAEjD,IACII,GAAe,EACnBC,EAAiBN,EAAI,SAFF,yCAE0BC,EAASV,gBAAgB,SAAUgB,GAC5E,GAAmB,YAAfA,EAAMC,KAAoB,CAC1B,GAAsB,KAAlBD,EAAME,QACN,OAEAJ,GAAe,CAEvB,MAEI,GAAIA,EAEA,YADAA,GAAe,GAIvB,SAAKJ,EAAST,kBAAmC,YAAfe,EAAMC,OAIxC9B,EAAQgC,YAAY/B,MAAMqB,GAEnB,GACX,GACJ,GACJ,EAEAU,YAAa,WACT,IAAIC,EAAQrC,EAAEM,MACVqB,EAAWR,EAASkB,EAAMP,KAAK,OAAOH,SACtCW,EAAO,CAAC,EACZtC,EAAEyB,KAAKzB,EAAE2B,EAASV,gBAAgBsB,kBAAkB,WAC1CjC,KAAKkC,QAAQF,IACfA,EAAKhC,KAAKkC,MAAQ,IAEtBF,EAAKhC,KAAKkC,MAAMC,KAAKnC,KAAKoC,MAC9B,IAEA,IAAIC,EAAgBC,OAAOC,KAAKP,GAEhCtC,EAAEyB,KAAKqB,IAAIC,eAAepB,EAASZ,YAAY,SAAUyB,EAAME,IACtB,IAAjCC,EAAcK,QAAQR,KAAyE,IAAzDG,EAAcK,QAAQR,EAAKS,QAAQ,WAAY,OAChFjD,EAAEkD,QAAQR,KACXA,EAAQ,CAACA,IAEPF,KAAQF,EAGVtC,EAAEyB,KAAKiB,GAAO,SAAUS,EAAGC,GACnBpD,EAAEqD,QAAQD,EAAKd,EAAKE,KACpBF,EAAKE,GAAMC,KAAKW,EAExB,IANAd,EAAKE,GAAQE,EASzB,IAEA,IAAIY,EAAM3B,EAASZ,UAAUiC,QAAQ,KACjCO,EAAMD,EAAM,EAAI3B,EAASZ,UAAYY,EAASZ,UAAUyC,UAAU,EAAGF,GACrEG,EAAU9B,EAASZ,UAAUiC,QAAQ,KACrCM,GAAO,GAAKG,GAAW,IACvBF,GAAO5B,EAASZ,UAAUyC,UAAUC,IAGxCpB,EAAMqB,KAAK,6BAA6BC,SACxC,IAAIC,EAAQ5D,EAAE,UAAW,CACrB6D,OAAQN,EACRpD,OAAQ,MACR,MAAS,uBACT2D,MAAO,eACP,YAAa,KACdC,SAAS1B,GACZrC,EAAEyB,KAAKa,GAAM,SAAUE,EAAMwB,GACzBhE,EAAEyB,KAAKuC,GAAQ,SAAUC,EAAOvB,GAC5BkB,EAAMM,OAAOlE,EAAE,YAAY8B,KAAK,CAACI,KAAM,SAAUM,KAAMA,EAAME,MAAOA,IACxE,GACJ,IAEA,IAAIT,EAAQjC,EAAEmE,MAAM/C,EAAWC,cAC/BgB,EAAM+B,QAAQnC,IACO,IAAjBA,EAAMoC,SAIVT,EAAMU,SAENjC,EAAM+B,QAAQhD,EAAWE,aAC7B,EAEAiD,mBAAoB,SAAU/C,GAC1B,IAAIa,EAAQrC,EAAEM,MACVuB,EAAK7B,EAAEM,MAAMwB,KAAK,MAKtB,QAJqBd,IAAjBG,EAASU,KACTV,EAASU,GAAM,CAAC,GAEpBV,EAASU,GAAI2C,gBAAkBhD,EAAQgB,KAClChB,EAAQiD,UAAajD,EAAQkD,SAAlC,CAGA,IAAIC,EAAgB,eAAiBnD,EAAQkD,SAAW,KACpDE,GAAUpD,EAAe,MAAI,SAAWA,EAAe,MAAI,eAAiBA,EAAQgB,KAAO,MAAQ,WACvGR,EAAiBK,EAAO,eAAgB,oBAAqB,IAAMR,EAAK,IAAM8C,GAAe,WACzFtC,EAAMqB,KAAKkB,GAAUtE,KAAKuE,QAAU,iBAAmB,aAAaC,KAAK,UAAWxE,KAAKuE,SAASE,QACtG,IACA,IAAIC,EAAU,WACV,IAAIC,EAAM5C,EAAMqB,KAAKkB,GAAQM,QAAU7C,EAAMqB,KAAKkB,EAAS,YAAYM,OACvE7C,EAAMqB,KAAKiB,GAAiBM,EAAM,iBAAmB,aAAaH,KAAK,UAAWG,GAAKF,QAC3F,EACA/C,EAAiBK,EAAO,WAAY,oBAAqB,IAAMR,EAAK,IAAM+C,EAAQI,GAC9E3C,EAAMqB,KAAKkB,GAAQM,QACnBF,GAZJ,CAcJ,EAEAG,gBAAiB,WACb,IAAI9C,EAAQrC,EAAEM,MACVgC,EAAOnB,EAASkB,EAAMP,KAAK,OAC3Be,EAAO,GAOX,OANIP,EAAKkC,iBACLnC,EAAMqB,KAAK,eAAiBpB,EAAKkC,gBAAkB,cAAc/C,MAAK,WAClEoB,EAAKJ,KAAKzC,EAAEM,MAAM8E,SAASC,QAAQ,MAAM/C,KAAK,OAClD,IAGGO,CACX,EAEAyC,QAAS,WACL,IAAIC,EAAS,CAAC,eAAgBnE,EAAWC,aAAcD,EAAWE,aAAakE,KAAK,KACpFlF,KAAKmF,IAAIF,GAET,IAAI1D,EAAK7B,EAAEM,MAAMwB,KAAK,MAOtB,OANA9B,EAAEyB,KAAKF,EAAkBM,IAAK,SAAUK,EAAMI,GAC1CtC,EAAE0F,UAAUD,IAAInD,EAAKL,MAAOK,EAAKqD,SACrC,WAEOxE,EAASU,GAETvB,IACX,EAEAgC,KAAM,WACF,IAAIT,EAAK7B,EAAEM,MAAMwB,KAAK,MACtB,OAAOX,EAASU,EACpB,GAYJ,SAASG,EAAiB4D,EAAW1D,EAAMD,EAAO0D,EAAUE,GAExD,IAAIhE,EAAK+D,EAAU9D,KAAK,MACpBgE,EAAcvE,EAAkBM,GACpC,QAAoBb,IAAhB8E,QAAmD9E,IAAtB8E,EAAY5D,GAAqB,CAC9D,IAAII,EAAOwD,EAAY5D,GACvBlC,EAAE0F,UAAUD,IAAInD,EAAKL,MAAOK,EAAKqD,SACrC,MACoB3E,IAAhB8E,IACAvE,EAAkBM,GAAM,CAAC,GAE7B7B,EAAE0F,UAAUK,GAAG9D,EAAO0D,EAAUE,GAChCtE,EAAkBM,GAAIK,GAAQ,CAACD,MAAOA,EAAO0D,SAAUA,EAC3D,CACH,CA1PD,CA0PGK,OAAOC","sources":["webpack://kanban/../vendor/yiisoft/yii2/assets/yii.gridView.js"],"sourcesContent":["/**\n * Yii GridView widget.\n *\n * This is the JavaScript widget used by the yii\\grid\\GridView widget.\n *\n * @link https://www.yiiframework.com/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license https://www.yiiframework.com/license/\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n */\n(function ($) {\n    $.fn.yiiGridView = function (method) {\n        if (methods[method]) {\n            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n        } else if (typeof method === 'object' || !method) {\n                return methods.init.apply(this, arguments);\n        } else {\n            $.error('Method ' + method + ' does not exist in jQuery.yiiGridView');\n            return false;\n        }\n    };\n\n    var defaults = {\n        filterUrl: undefined,\n        filterSelector: undefined,\n        filterOnFocusOut: true\n    };\n\n    var gridData = {};\n\n    var gridEvents = {\n        /**\n         * beforeFilter event is triggered before filtering the grid.\n         * The signature of the event handler should be:\n         *     function (event)\n         * where\n         *  - event: an Event object.\n         *\n         * If the handler returns a boolean false, it will stop filter form submission after this event. As\n         * a result, afterFilter event will not be triggered.\n         */\n        beforeFilter: 'beforeFilter',\n        /**\n         * afterFilter event is triggered after filtering the grid and filtered results are fetched.\n         * The signature of the event handler should be:\n         *     function (event)\n         * where\n         *  - event: an Event object.\n         */\n        afterFilter: 'afterFilter'\n    };\n\n    /**\n     * Used for storing active event handlers and removing them later.\n     * The structure of single event handler is:\n     *\n     * {\n     *     gridViewId: {\n     *         type: {\n     *             event: '...',\n     *             selector: '...'\n     *         }\n     *     }\n     * }\n     *\n     * Used types:\n     *\n     * - filter, used for filtering grid with elements found by filterSelector\n     * - checkRow, used for checking single row\n     * - checkAllRows, used for checking all rows with according \"Check all\" checkbox\n     *\n     * event is the name of event, for example: 'change.yiiGridView'\n     * selector is a jQuery selector for finding elements\n     *\n     * @type {{}}\n     */\n    var gridEventHandlers = {};\n\n    var methods = {\n        init: function (options) {\n            return this.each(function () {\n                var $e = $(this);\n                var settings = $.extend({}, defaults, options || {});\n                var id = $e.attr('id');\n                if (gridData[id] === undefined) {\n                    gridData[id] = {};\n                }\n\n                gridData[id] = $.extend(gridData[id], {settings: settings});\n\n                var filterEvents = 'change.yiiGridView keydown.yiiGridView';\n                var enterPressed = false;\n                initEventHandler($e, 'filter', filterEvents, settings.filterSelector, function (event) {\n                    if (event.type === 'keydown') {\n                        if (event.keyCode !== 13) {\n                            return; // only react to enter key\n                        } else {\n                            enterPressed = true;\n                        }\n                    } else {\n                        // prevent processing for both keydown and change events\n                        if (enterPressed) {\n                            enterPressed = false;\n                            return;\n                        }\n                    }\n                    if (!settings.filterOnFocusOut && event.type !== 'keydown') {\n                        return false;\n                    }\n\n                    methods.applyFilter.apply($e);\n\n                    return false;\n                });\n            });\n        },\n\n        applyFilter: function () {\n            var $grid = $(this);\n            var settings = gridData[$grid.attr('id')].settings;\n            var data = {};\n            $.each($(settings.filterSelector).serializeArray(), function () {\n                if (!(this.name in data)) {\n                    data[this.name] = [];\n                }\n                data[this.name].push(this.value);\n            });\n\n            var namesInFilter = Object.keys(data);\n\n            $.each(yii.getQueryParams(settings.filterUrl), function (name, value) {\n                if (namesInFilter.indexOf(name) === -1 && namesInFilter.indexOf(name.replace(/\\[\\d*\\]$/, '')) === -1) {\n                    if (!$.isArray(value)) {\n                        value = [value];\n                    }\n                    if (!(name in data)) {\n                        data[name] = value;\n                    } else {\n                        $.each(value, function (i, val) {\n                            if ($.inArray(val, data[name])) {\n                                data[name].push(val);\n                            }\n                        });\n                    }\n                }\n            });\n\n            var pos = settings.filterUrl.indexOf('?');\n            var url = pos < 0 ? settings.filterUrl : settings.filterUrl.substring(0, pos);\n            var hashPos = settings.filterUrl.indexOf('#');\n            if (pos >= 0 && hashPos >= 0) {\n                url += settings.filterUrl.substring(hashPos);\n            }\n\n            $grid.find('form.gridview-filter-form').remove();\n            var $form = $('<form/>', {\n                action: url,\n                method: 'get',\n                'class': 'gridview-filter-form',\n                style: 'display:none',\n                'data-pjax': ''\n            }).appendTo($grid);\n            $.each(data, function (name, values) {\n                $.each(values, function (index, value) {\n                    $form.append($('<input/>').attr({type: 'hidden', name: name, value: value}));\n                });\n            });\n\n            var event = $.Event(gridEvents.beforeFilter);\n            $grid.trigger(event);\n            if (event.result === false) {\n                return;\n            }\n\n            $form.submit();\n\n            $grid.trigger(gridEvents.afterFilter);\n        },\n\n        setSelectionColumn: function (options) {\n            var $grid = $(this);\n            var id = $(this).attr('id');\n            if (gridData[id] === undefined) {\n                gridData[id] = {};\n            }\n            gridData[id].selectionColumn = options.name;\n            if (!options.multiple || !options.checkAll) {\n                return;\n            }\n            var checkAllInput = \"input[name='\" + options.checkAll + \"']\";\n            var inputs = (options['class'] ? \"input.\" + options['class'] : \"input[name='\" + options.name + \"']\") + \":enabled\";\n            initEventHandler($grid, 'checkAllRows', 'click.yiiGridView', \"#\" + id + \" \" + checkAllInput, function () {\n                $grid.find(inputs + (this.checked ? \":not(:checked)\" : \":checked\")).prop('checked', this.checked).change();\n            });\n            var handler = function () {\n                var all = $grid.find(inputs).length == $grid.find(inputs + \":checked\").length;\n                $grid.find(checkAllInput + (all ? \":not(:checked)\" : \":checked\")).prop('checked', all).change();\n            };\n            initEventHandler($grid, 'checkRow', 'click.yiiGridView', \"#\" + id + \" \" + inputs, handler);\n            if ($grid.find(inputs).length) {\n                handler(); // Ensure \"check all\" checkbox is checked on page load if all data row checkboxes are initially checked.\n            }\n        },\n\n        getSelectedRows: function () {\n            var $grid = $(this);\n            var data = gridData[$grid.attr('id')];\n            var keys = [];\n            if (data.selectionColumn) {\n                $grid.find(\"input[name='\" + data.selectionColumn + \"']:checked\").each(function () {\n                    keys.push($(this).parent().closest('tr').data('key'));\n                });\n            }\n\n            return keys;\n        },\n\n        destroy: function () {\n            var events = ['.yiiGridView', gridEvents.beforeFilter, gridEvents.afterFilter].join(' ');\n            this.off(events);\n\n            var id = $(this).attr('id');\n            $.each(gridEventHandlers[id], function (type, data) {\n                $(document).off(data.event, data.selector);\n            });\n\n            delete gridData[id];\n\n            return this;\n        },\n\n        data: function () {\n            var id = $(this).attr('id');\n            return gridData[id];\n        }\n    };\n\n    /**\n     * Used for attaching event handler and prevent of duplicating them. With each call previously attached handler of\n     * the same type is removed even selector was changed.\n     * @param {jQuery} $gridView According jQuery grid view element\n     * @param {string} type Type of the event which acts like a key\n     * @param {string} event Event name, for example 'change.yiiGridView'\n     * @param {string} selector jQuery selector\n     * @param {function} callback The actual function to be executed with this event\n     */\n    function initEventHandler($gridView, type, event, selector, callback)\n    {\n        var id = $gridView.attr('id');\n        var prevHandler = gridEventHandlers[id];\n        if (prevHandler !== undefined && prevHandler[type] !== undefined) {\n            var data = prevHandler[type];\n            $(document).off(data.event, data.selector);\n        }\n        if (prevHandler === undefined) {\n            gridEventHandlers[id] = {};\n        }\n        $(document).on(event, selector, callback);\n        gridEventHandlers[id][type] = {event: event, selector: selector};\n    }\n})(window.jQuery);\n"],"names":["$","fn","yiiGridView","method","methods","apply","this","Array","prototype","slice","call","arguments","error","init","defaults","filterUrl","undefined","filterSelector","filterOnFocusOut","gridData","gridEvents","beforeFilter","afterFilter","gridEventHandlers","options","each","$e","settings","extend","id","attr","enterPressed","initEventHandler","event","type","keyCode","applyFilter","$grid","data","serializeArray","name","push","value","namesInFilter","Object","keys","yii","getQueryParams","indexOf","replace","isArray","i","val","inArray","pos","url","substring","hashPos","find","remove","$form","action","style","appendTo","values","index","append","Event","trigger","result","submit","setSelectionColumn","selectionColumn","multiple","checkAll","checkAllInput","inputs","checked","prop","change","handler","all","length","getSelectedRows","parent","closest","destroy","events","join","off","document","selector","$gridView","callback","prevHandler","on","window","jQuery"],"sourceRoot":""}